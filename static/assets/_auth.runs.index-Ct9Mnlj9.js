import{a3 as y,u as b,r as n,a4 as S,j as t,a5 as j,h as R,B as i,a6 as C}from"./index-BIirldc1.js";import{u as F}from"./useQuery-CTa4JkgR.js";import{S as I,a as V}from"./sortable-header-CBUhMdW4.js";import{C as l}from"./copyable-text-hzJJx6rD.js";import{u as D}from"./use-debounce-R5sUNkyS.js";import"./useBaseQuery-o_MHl0Bk.js";import"./index-P1ukJAZU.js";import"./scroll-area-BlkD1AVU.js";import"./popover-Daw9D_6H.js";import"./check-DV4XU-UY.js";import"./button-C2PM_K_5.js";import"./input-DMyO_KgQ.js";const M=function(){const r=y.useSearch(),p=b(),[m,g]=n.useState(r.query),s=D(m,300),[u,x]=n.useState({pageIndex:r.page-1,pageSize:r.per_page}),[c,_]=n.useState([{id:r.sort_by,desc:r.sort_order=="desc"}]);n.useEffect(()=>{p({to:"/runs",search:{...r,query:s,page:1}})},[s]),n.useEffect(()=>{var a,e;p({to:"/runs",search:{...r,page:u.pageIndex+1,per_page:u.pageSize,sort_by:(a=c[0])==null?void 0:a.id,sort_order:(e=c[0])!=null&&e.desc?"desc":"asc"},replace:!0})},[u,c]);const{data:d,isLoading:f,error:h}=F({...S({query:{query:s,page:r.page,per_page:r.per_page,sort_by:r.sort_by,sort_order:r.sort_order}}),placeholderData:C});if(f)return t.jsx(j,{variant:"ellipsis"});if(h)return"An error has occurred: "+h.message;if(!d)return"No data was returned.";const v=[{accessorKey:"barcode",meta:{alias:"Experiment"},header:({column:a})=>t.jsx(V,{column:a,name:"Experiment"}),cell:({cell:a,row:e})=>{const o=a.getValue();return e.getValue("status")==="Ready"?t.jsx(l,{text:o,variant:"hoverLink",asChild:!0,children:t.jsx(R,{to:"/runs/$run_barcode",params:{run_barcode:o},preload:!1,children:i(o,s)})}):t.jsx(l,{text:o,variant:"hoverLight",children:i(o,s)})}},{accessorKey:"machine_id",meta:{alias:"Instrument"},header:"Instrument",cell:({cell:a})=>{const e=a.getValue();return t.jsx(l,{text:e,variant:"hover",children:i(e,s)})}},{accessorKey:"flowcell_id",meta:{alias:"Flowcell"},header:"Flowcell",cell:({cell:a})=>{const e=a.getValue();return t.jsx(l,{text:e,variant:"hover",children:i(e,s)})}},{accessorKey:"run_date",meta:{alias:"Run Date"},header:"Run Date"},{accessorKey:"run_folder_uri",meta:{alias:"Run Folder"},header:"Run Folder",cell:({cell:a})=>{const e=a.getValue();return t.jsx(l,{text:e,variant:"hover",children:i(e,s)})}},{accessorKey:"status",meta:{alias:"Status"},header:"Status"}];return t.jsxs("div",{className:"animate-fade-in-up",children:[t.jsx("h1",{className:"text-2xl",children:"Illumina Runs"}),t.jsx("p",{className:"text-muted-foreground mb-6",children:"View all illumina runs in NGS360"}),t.jsx(I,{data:d.data,columns:v,columnVisibility:{run_folder_uri:!1},globalFilter:m,onFilterChange:g,pagination:u,onPaginationChange:x,pageCount:d.total_pages,totalItems:d.total_items,sorting:c,onSortingChange:_})]})};export{M as component};
//# sourceMappingURL=_auth.runs.index-Ct9Mnlj9.js.map
