import{r as c,j as l,Y as P,Z as R,q as $,v as S,x as A}from"./index-BIirldc1.js";function k(e,t=[]){let n=[];function o(a,u){const r=c.createContext(u);r.displayName=a+"Context";const i=n.length;n=[...n,u];const d=f=>{var w;const{scope:v,children:g,...p}=f,x=((w=v==null?void 0:v[e])==null?void 0:w[i])||r,I=c.useMemo(()=>p,Object.values(p));return l.jsx(x.Provider,{value:I,children:g})};d.displayName=a+"Provider";function m(f,v){var x;const g=((x=v==null?void 0:v[e])==null?void 0:x[i])||r,p=c.useContext(g);if(p)return p;if(u!==void 0)return u;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[d,m]}const s=()=>{const a=n.map(u=>c.createContext(u));return function(r){const i=(r==null?void 0:r[e])||a;return c.useMemo(()=>({[`__scope${e}`]:{...r,[e]:i}}),[r,i])}};return s.scopeName=e,[o,M(s,...t)]}function M(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const o=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const u=o.reduce((r,{useScope:i,scopeName:d})=>{const f=i(a)[`__scope${d}`];return{...r,...f}},{});return c.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}var F=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],h=F.reduce((e,t)=>{const n=P(`Primitive.${t}`),o=c.forwardRef((s,a)=>{const{asChild:u,...r}=s,i=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(i,{...r,ref:a})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{}),q=R();function z(){return q.useSyncExternalStore(H,()=>!0,()=>!1)}function H(){return()=>{}}var C="Avatar",[T,W]=k(C),[B,b]=T(C),E=c.forwardRef((e,t)=>{const{__scopeAvatar:n,...o}=e,[s,a]=c.useState("idle");return l.jsx(B,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:l.jsx(h.span,{...o,ref:t})})});E.displayName=C;var _="AvatarImage",y=c.forwardRef((e,t)=>{const{__scopeAvatar:n,src:o,onLoadingStatusChange:s=()=>{},...a}=e,u=b(_,n),r=D(o,a),i=$(d=>{s(d),u.onImageLoadingStatusChange(d)});return S(()=>{r!=="idle"&&i(r)},[r,i]),r==="loaded"?l.jsx(h.img,{...a,ref:t,src:o}):null});y.displayName=_;var j="AvatarFallback",N=c.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:o,...s}=e,a=b(j,n),[u,r]=c.useState(o===void 0);return c.useEffect(()=>{if(o!==void 0){const i=window.setTimeout(()=>r(!0),o);return()=>window.clearTimeout(i)}},[o]),u&&a.imageLoadingStatus!=="loaded"?l.jsx(h.span,{...s,ref:t}):null});N.displayName=j;function L(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function D(e,{referrerPolicy:t,crossOrigin:n}){const o=z(),s=c.useRef(null),a=o?(s.current||(s.current=new window.Image),s.current):null,[u,r]=c.useState(()=>L(a,e));return S(()=>{r(L(a,e))},[a,e]),S(()=>{const i=f=>()=>{r(f)};if(!a)return;const d=i("loaded"),m=i("error");return a.addEventListener("load",d),a.addEventListener("error",m),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",d),a.removeEventListener("error",m)}},[a,n,t]),u}var G=E,K=y,O=N;function Y({className:e,...t}){return l.jsx(G,{"data-slot":"avatar",className:A("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function Z({className:e,...t}){return l.jsx(K,{"data-slot":"avatar-image",className:A("aspect-square size-full",e),...t})}function J({className:e,...t}){return l.jsx(O,{"data-slot":"avatar-fallback",className:A("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}export{Y as A,Z as a,J as b};
//# sourceMappingURL=avatar-u09O4Lfr.js.map
