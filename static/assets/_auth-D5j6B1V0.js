import{c as V,u as ee,r as u,o as he,a as Ve,b as ze,g as $e,j as e,L as Ue,d as Be,s as q,e as te,f as He,h as F,i as Ge,k as z,l as je,P as _,m as qe,n as Ne,p as me,q as L,t as Je,v as J,R as We,w as Qe,x as D,X as Ye,D as Xe,F as Ze,y as et,z as tt,O as nt}from"./index-BIirldc1.js";import{B as S}from"./button-C2PM_K_5.js";import{u as st}from"./useMutation-DLDY0_Jn.js";import{u as rt,a as ot}from"./index.esm-DeL_VMPh.js";import{a as at,L as ve}from"./label-BoUK3cZg.js";import{t as it,T as ct}from"./index-CbXsuHis.js";import{I as G}from"./input-DMyO_KgQ.js";import{D as lt,a as ut,b as dt,c as mt,d as vt,e as ft,f as xt,g as pt}from"./dialog-Dv2OS8bo.js";import{T as gt}from"./trash-2-BM_fEEzK.js";import{P as ht,D as be,a as we,b as ye,c as U,d as Ce,u as jt,C as Nt}from"./index-P1ukJAZU.js";import{S as fe}from"./search-bar-C4mhsUwd.js";import{u as bt}from"./useQuery-CTa4JkgR.js";import{S as wt}from"./separator-ClsyK3GL.js";import{S as yt,a as Ct,u as Mt,c as k,P as H}from"./scroll-area-BlkD1AVU.js";import{P as Rt,a as kt,b as Et,D as It}from"./popover-Daw9D_6H.js";import{u as Tt,D as Pt}from"./use-job-queries-C1A_Ye7H.js";import{A as _t,a as St,b as Dt}from"./avatar-u09O4Lfr.js";import{U as At}from"./user-Db7k31Xy.js";import{N as Lt}from"./ngs360-logo-CZCZml11.js";import{S as Ot}from"./shield-check-DjtTMb8z.js";import"./check-DV4XU-UY.js";import"./use-debounce-R5sUNkyS.js";import"./search-SEwO8_4z.js";import"./useBaseQuery-o_MHl0Bk.js";/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Kt=V("BookOpen",Ft);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],zt=V("House",Vt);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Ut=V("Inbox",$t);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Ht=V("LogOut",Bt);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],qt=V("Menu",Gt),Jt=he({key:q(),value:q()}).refine(t=>!(t.key.trim()===""&&t.value.trim()!==""),{message:"Key is required if value is filled.",path:["key"]}).refine(t=>!(t.key.trim()!==""&&t.value.trim()===""),{message:"Value is required if key is filled.",path:["value"]}),Wt=he({name:q().nonempty(),attributes:Be(Jt)}),xe=({trigger:t})=>{var f,y,R,P;const n=ee(),[r,s]=u.useState(!1),o=m=>{m||l(),s(m)},{register:a,control:c,handleSubmit:d,reset:l,setError:p,watch:i,formState:{errors:v,isSubmitting:w}}=rt({defaultValues:{name:"",attributes:[{key:"",value:""}]},resolver:at(Wt)}),{fields:g,append:h,remove:N}=ot({name:"attributes",control:c}),b=i("attributes"),C=Ve(),{mutate:T,isPending:x}=st({...ze(),onError:m=>{var E,A;const M=((A=(E=m.response)==null?void 0:E.data.detail)==null?void 0:A.toString())||"An unknown error occurred.";p("root",{message:M})},onSuccess:m=>{l(),C.invalidateQueries({queryKey:$e()}),it.success(`Successfully created project ${m.project_id}`),s(!1),n({to:"/projects/$project_id",params:{project_id:m.project_id}})}}),j=m=>{const M=m.attributes.filter(E=>!(E.key.trim()===""&&E.value.trim()===""));T({body:{...m,attributes:M}})};return e.jsx(e.Fragment,{children:e.jsxs(lt,{open:r,onOpenChange:o,children:[e.jsx(ut,{asChild:!0,children:t}),e.jsxs(dt,{children:[e.jsxs(mt,{children:[e.jsx(vt,{children:"Create New Project"}),e.jsx(ft,{children:"Add an NGS360 project with the desired attributes."})]}),e.jsxs("form",{onSubmit:d(j),children:[e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(ve,{htmlFor:"project-name",children:"Name"}),e.jsx(G,{...a("name"),id:"project-name",type:"text",placeholder:"My Project",required:!0}),v.name&&e.jsx("div",{className:"text-xs text-red-500 text-left",children:v.name.message})]}),e.jsxs("div",{className:"grid gap-2 mb-6",children:[e.jsx(ve,{children:"Attributes"}),g.map((m,M)=>{var E,A,ce,le,ue,de;return e.jsx("div",{className:"grid gap-2",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex flex-col flex-1",children:[e.jsx(G,{...a(`attributes.${M}.key`),placeholder:"Key"}),((ce=(A=(E=v.attributes)==null?void 0:E[M])==null?void 0:A.key)==null?void 0:ce.message)&&e.jsx("span",{className:"text-xs text-red-500 mt-1",children:v.attributes[M].key.message})]}),e.jsxs("div",{className:"flex flex-col flex-1",children:[e.jsx(G,{...a(`attributes.${M}.value`),placeholder:"Value"}),((de=(ue=(le=v.attributes)==null?void 0:le[M])==null?void 0:ue.value)==null?void 0:de.message)&&e.jsx("span",{className:"text-xs text-red-500 mt-1",children:v.attributes[M].value.message})]}),e.jsx(S,{variant:"ghost",className:"hover:bg-destructive/10 group",disabled:b.length<2,onClick:()=>N(M),children:e.jsx(gt,{className:"size-4 text-destructive"})})]})},m.id)}),e.jsx("div",{children:e.jsxs(S,{variant:"outline",type:"button",disabled:!((y=(f=b[b.length-1])==null?void 0:f.key)!=null&&y.trim())||!((P=(R=b[b.length-1])==null?void 0:R.value)!=null&&P.trim()),onClick:()=>h({key:"",value:""}),children:[e.jsx(ht,{})," Add Attribute"]})})]}),v.root&&e.jsx("div",{className:"text-red-500 text-sm text-center",children:v.root.message})]}),e.jsxs(xt,{children:[e.jsx(pt,{asChild:!0,children:e.jsx(S,{type:"button",variant:"secondary",onClick:()=>{l()},children:"Cancel"})}),e.jsxs(S,{disabled:w||x,type:"submit",children:[w||x?e.jsx(Ue,{className:"animate-spin h-4 w-4 text-white"}):null,w||x?"Creatinging Project...":"Create Project"]})]})]})]})]})})};function Qt(){const[t,n]=u.useState(!1),{viewJob:r}=Tt(),{user:s}=te(),o=(s==null?void 0:s.username)||"system",{data:a,isLoading:c}=bt({...He({query:{...Pt.query,limit:10,user:o}})}),d=(a==null?void 0:a.data)||[],l=d.some(i=>!i.viewed),p=async i=>{await r(i),n(!1)};return e.jsxs(Rt,{open:t,onOpenChange:n,children:[e.jsx(kt,{asChild:!0,children:e.jsxs(S,{variant:"ghost",size:"icon",className:"relative",children:[e.jsx(Ut,{className:"h-5 w-5"}),l&&e.jsx("span",{className:"absolute top-0 right-0 h-2 w-2 rounded-full bg-primary"}),e.jsx("span",{className:"sr-only",children:"Notifications"})]})}),e.jsxs(Et,{align:"end",className:"w-auto p-0",children:[e.jsx("div",{className:"flex items-center justify-between px-4 py-3 border-b",children:e.jsx("h3",{className:"font-semibold text-sm",children:"Recent Jobs"})}),e.jsxs(yt,{className:"h-[400px]",children:[c?e.jsx("div",{className:"px-4 py-8 text-center text-sm text-muted-foreground",children:"Loading jobs..."}):d.length===0?e.jsxs("div",{className:"px-4 py-8 text-center text-sm text-muted-foreground",children:["No jobs found for user: ",o]}):e.jsx("div",{className:"divide-y",children:d.map(i=>e.jsx("div",{className:"px-4 py-3 hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>p(i.id),children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"mt-1.5 flex-shrink-0",children:i.viewed?e.jsx("div",{className:"h-2 w-2 rounded-full border border-muted-foreground/30",title:"Read"}):e.jsx("div",{className:"h-2 w-2 rounded-full bg-primary",title:"Unread"})}),e.jsxs("div",{className:"flex flex-col gap-1 flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-sm whitespace-nowrap",children:i.name}),e.jsxs("div",{className:"text-xs text-muted-foreground whitespace-nowrap",children:["Status: ",e.jsx("span",{className:"capitalize",children:i.status})]}),e.jsx("div",{className:"text-xs text-muted-foreground whitespace-nowrap",children:new Date(i.submitted_on).toLocaleString()})]})]})},i.id))}),e.jsx(Ct,{orientation:"horizontal"})]}),e.jsx(wt,{}),e.jsx("div",{className:"p-2",children:e.jsx(F,{to:"/profile",hash:"jobs",className:"block",children:e.jsx(S,{variant:"ghost",className:"w-full justify-center text-sm",children:"View All Jobs"})})})]})]})}function Yt(){const{user:t,logout:n}=te(),r=ee(),s=(t==null?void 0:t.email)||"",o=Ge(s),a=async()=>{await n(),r({to:"/"})};return e.jsxs(be,{children:[e.jsx(we,{asChild:!0,children:e.jsxs(_t,{className:"cursor-pointer",children:[e.jsx(St,{src:o,alt:s}),e.jsx(Dt,{children:s.substring(0,2).toUpperCase()})]})}),e.jsxs(ye,{align:"end",children:[e.jsx(U,{asChild:!0,children:e.jsxs(F,{to:"/profile",className:"cursor-pointer",children:[e.jsx(At,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Profile"})]})}),e.jsxs(U,{onClick:a,children:[e.jsx(Ht,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Logout"})]})]})]})}var O="NavigationMenu",[ne,Me,Xt]=Ce(O),[W,Zt,en]=Ce(O),[se,ls]=qe(O,[Xt,en]),[tn,I]=se(O),[nn,sn]=se(O),Re=u.forwardRef((t,n)=>{const{__scopeNavigationMenu:r,value:s,onValueChange:o,defaultValue:a,delayDuration:c=200,skipDelayDuration:d=300,orientation:l="horizontal",dir:p,...i}=t,[v,w]=u.useState(null),g=z(n,m=>w(m)),h=Mt(p),N=u.useRef(0),b=u.useRef(0),C=u.useRef(0),[T,x]=u.useState(!0),[j,f]=je({prop:s,onChange:m=>{const M=m!=="",E=d>0;M?(window.clearTimeout(C.current),E&&x(!1)):(window.clearTimeout(C.current),C.current=window.setTimeout(()=>x(!0),d)),o==null||o(m)},defaultProp:a??"",caller:O}),y=u.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>f(""),150)},[f]),R=u.useCallback(m=>{window.clearTimeout(b.current),f(m)},[f]),P=u.useCallback(m=>{j===m?window.clearTimeout(b.current):N.current=window.setTimeout(()=>{window.clearTimeout(b.current),f(m)},c)},[j,f,c]);return u.useEffect(()=>()=>{window.clearTimeout(N.current),window.clearTimeout(b.current),window.clearTimeout(C.current)},[]),e.jsx(ke,{scope:r,isRootMenu:!0,value:j,dir:h,orientation:l,rootNavigationMenu:v,onTriggerEnter:m=>{window.clearTimeout(N.current),T?P(m):R(m)},onTriggerLeave:()=>{window.clearTimeout(N.current),y()},onContentEnter:()=>window.clearTimeout(b.current),onContentLeave:y,onItemSelect:m=>{f(M=>M===m?"":m)},onItemDismiss:()=>f(""),children:e.jsx(_.nav,{"aria-label":"Main","data-orientation":l,dir:h,...i,ref:g})})});Re.displayName=O;var Q="NavigationMenuSub",rn=u.forwardRef((t,n)=>{const{__scopeNavigationMenu:r,value:s,onValueChange:o,defaultValue:a,orientation:c="horizontal",...d}=t,l=I(Q,r),[p,i]=je({prop:s,onChange:o,defaultProp:a??"",caller:Q});return e.jsx(ke,{scope:r,isRootMenu:!1,value:p,dir:l.dir,orientation:c,rootNavigationMenu:l.rootNavigationMenu,onTriggerEnter:v=>i(v),onItemSelect:v=>i(v),onItemDismiss:()=>i(""),children:e.jsx(_.div,{"data-orientation":c,...d,ref:n})})});rn.displayName=Q;var ke=t=>{const{scope:n,isRootMenu:r,rootNavigationMenu:s,dir:o,orientation:a,children:c,value:d,onItemSelect:l,onItemDismiss:p,onTriggerEnter:i,onTriggerLeave:v,onContentEnter:w,onContentLeave:g}=t,[h,N]=u.useState(null),[b,C]=u.useState(new Map),[T,x]=u.useState(null);return e.jsx(tn,{scope:n,isRootMenu:r,rootNavigationMenu:s,value:d,previousValue:jt(d),baseId:Ne(),dir:o,orientation:a,viewport:h,onViewportChange:N,indicatorTrack:T,onIndicatorTrackChange:x,onTriggerEnter:L(i),onTriggerLeave:L(v),onContentEnter:L(w),onContentLeave:L(g),onItemSelect:L(l),onItemDismiss:L(p),onViewportContentChange:u.useCallback((j,f)=>{C(y=>(y.set(j,f),new Map(y)))},[]),onViewportContentRemove:u.useCallback(j=>{C(f=>f.has(j)?(f.delete(j),new Map(f)):f)},[]),children:e.jsx(ne.Provider,{scope:n,children:e.jsx(nn,{scope:n,items:b,children:c})})})},Ee="NavigationMenuList",Ie=u.forwardRef((t,n)=>{const{__scopeNavigationMenu:r,...s}=t,o=I(Ee,r),a=e.jsx(_.ul,{"data-orientation":o.orientation,...s,ref:n});return e.jsx(_.div,{style:{position:"relative"},ref:o.onIndicatorTrackChange,children:e.jsx(ne.Slot,{scope:r,children:o.isRootMenu?e.jsx(Le,{asChild:!0,children:a}):a})})});Ie.displayName=Ee;var Te="NavigationMenuItem",[on,Pe]=se(Te),_e=u.forwardRef((t,n)=>{const{__scopeNavigationMenu:r,value:s,...o}=t,a=Ne(),c=s||a||"LEGACY_REACT_AUTO_VALUE",d=u.useRef(null),l=u.useRef(null),p=u.useRef(null),i=u.useRef(()=>{}),v=u.useRef(!1),w=u.useCallback((h="start")=>{if(d.current){i.current();const N=X(d.current);N.length&&ae(h==="start"?N:N.reverse())}},[]),g=u.useCallback(()=>{if(d.current){const h=X(d.current);h.length&&(i.current=pn(h))}},[]);return e.jsx(on,{scope:r,value:c,triggerRef:l,contentRef:d,focusProxyRef:p,wasEscapeCloseRef:v,onEntryKeyDown:w,onFocusProxyEnter:w,onRootContentClose:g,onContentFocusOutside:g,children:e.jsx(_.li,{...o,ref:n})})});_e.displayName=Te;var Y="NavigationMenuTrigger",an=u.forwardRef((t,n)=>{const{__scopeNavigationMenu:r,disabled:s,...o}=t,a=I(Y,t.__scopeNavigationMenu),c=Pe(Y,t.__scopeNavigationMenu),d=u.useRef(null),l=z(d,c.triggerRef,n),p=Fe(a.baseId,c.value),i=Ke(a.baseId,c.value),v=u.useRef(!1),w=u.useRef(!1),g=c.value===a.value;return e.jsxs(e.Fragment,{children:[e.jsx(ne.ItemSlot,{scope:r,value:c.value,children:e.jsx(Oe,{asChild:!0,children:e.jsx(_.button,{id:p,disabled:s,"data-disabled":s?"":void 0,"data-state":ie(g),"aria-expanded":g,"aria-controls":i,...o,ref:l,onPointerEnter:k(t.onPointerEnter,()=>{w.current=!1,c.wasEscapeCloseRef.current=!1}),onPointerMove:k(t.onPointerMove,B(()=>{s||w.current||c.wasEscapeCloseRef.current||v.current||(a.onTriggerEnter(c.value),v.current=!0)})),onPointerLeave:k(t.onPointerLeave,B(()=>{s||(a.onTriggerLeave(),v.current=!1)})),onClick:k(t.onClick,()=>{a.onItemSelect(c.value),w.current=g}),onKeyDown:k(t.onKeyDown,h=>{const b={horizontal:"ArrowDown",vertical:a.dir==="rtl"?"ArrowLeft":"ArrowRight"}[a.orientation];g&&h.key===b&&(c.onEntryKeyDown(),h.preventDefault())})})})}),g&&e.jsxs(e.Fragment,{children:[e.jsx(We,{"aria-hidden":!0,tabIndex:0,ref:c.focusProxyRef,onFocus:h=>{const N=c.contentRef.current,b=h.relatedTarget,C=b===d.current,T=N==null?void 0:N.contains(b);(C||!T)&&c.onFocusProxyEnter(C?"start":"end")}}),a.viewport&&e.jsx("span",{"aria-owns":i})]})]})});an.displayName=Y;var cn="NavigationMenuLink",pe="navigationMenu.linkSelect",Se=u.forwardRef((t,n)=>{const{__scopeNavigationMenu:r,active:s,onSelect:o,...a}=t;return e.jsx(Oe,{asChild:!0,children:e.jsx(_.a,{"data-active":s?"":void 0,"aria-current":s?"page":void 0,...a,ref:n,onClick:k(t.onClick,c=>{const d=c.target,l=new CustomEvent(pe,{bubbles:!0,cancelable:!0});if(d.addEventListener(pe,p=>o==null?void 0:o(p),{once:!0}),me(d,l),!l.defaultPrevented&&!c.metaKey){const p=new CustomEvent($,{bubbles:!0,cancelable:!0});me(d,p)}},{checkForDefaultPrevented:!1})})})});Se.displayName=cn;var re="NavigationMenuIndicator",ln=u.forwardRef((t,n)=>{const{forceMount:r,...s}=t,o=I(re,t.__scopeNavigationMenu),a=!!o.value;return o.indicatorTrack?Qe.createPortal(e.jsx(H,{present:r||a,children:e.jsx(un,{...s,ref:n})}),o.indicatorTrack):null});ln.displayName=re;var un=u.forwardRef((t,n)=>{const{__scopeNavigationMenu:r,...s}=t,o=I(re,r),a=Me(r),[c,d]=u.useState(null),[l,p]=u.useState(null),i=o.orientation==="horizontal",v=!!o.value;u.useEffect(()=>{var N;const h=(N=a().find(b=>b.value===o.value))==null?void 0:N.ref.current;h&&d(h)},[a,o.value]);const w=()=>{c&&p({size:i?c.offsetWidth:c.offsetHeight,offset:i?c.offsetLeft:c.offsetTop})};return Z(c,w),Z(o.indicatorTrack,w),l?e.jsx(_.div,{"aria-hidden":!0,"data-state":v?"visible":"hidden","data-orientation":o.orientation,...s,ref:n,style:{position:"absolute",...i?{left:0,width:l.size+"px",transform:`translateX(${l.offset}px)`}:{top:0,height:l.size+"px",transform:`translateY(${l.offset}px)`},...s.style}}):null}),K="NavigationMenuContent",dn=u.forwardRef((t,n)=>{const{forceMount:r,...s}=t,o=I(K,t.__scopeNavigationMenu),a=Pe(K,t.__scopeNavigationMenu),c=z(a.contentRef,n),d=a.value===o.value,l={value:a.value,triggerRef:a.triggerRef,focusProxyRef:a.focusProxyRef,wasEscapeCloseRef:a.wasEscapeCloseRef,onContentFocusOutside:a.onContentFocusOutside,onRootContentClose:a.onRootContentClose,...s};return o.viewport?e.jsx(mn,{forceMount:r,...l,ref:c}):e.jsx(H,{present:r||d,children:e.jsx(De,{"data-state":ie(d),...l,ref:c,onPointerEnter:k(t.onPointerEnter,o.onContentEnter),onPointerLeave:k(t.onPointerLeave,B(o.onContentLeave)),style:{pointerEvents:!d&&o.isRootMenu?"none":void 0,...l.style}})})});dn.displayName=K;var mn=u.forwardRef((t,n)=>{const r=I(K,t.__scopeNavigationMenu),{onViewportContentChange:s,onViewportContentRemove:o}=r;return J(()=>{s(t.value,{ref:n,...t})},[t,n,s]),J(()=>()=>o(t.value),[t.value,o]),null}),$="navigationMenu.rootContentDismiss",De=u.forwardRef((t,n)=>{const{__scopeNavigationMenu:r,value:s,triggerRef:o,focusProxyRef:a,wasEscapeCloseRef:c,onRootContentClose:d,onContentFocusOutside:l,...p}=t,i=I(K,r),v=u.useRef(null),w=z(v,n),g=Fe(i.baseId,s),h=Ke(i.baseId,s),N=Me(r),b=u.useRef(null),{onItemDismiss:C}=i;u.useEffect(()=>{const x=v.current;if(i.isRootMenu&&x){const j=()=>{var f;C(),d(),x.contains(document.activeElement)&&((f=o.current)==null||f.focus())};return x.addEventListener($,j),()=>x.removeEventListener($,j)}},[i.isRootMenu,t.value,o,C,d]);const T=u.useMemo(()=>{const j=N().map(M=>M.value);i.dir==="rtl"&&j.reverse();const f=j.indexOf(i.value),y=j.indexOf(i.previousValue),R=s===i.value,P=y===j.indexOf(s);if(!R&&!P)return b.current;const m=(()=>{if(f!==y){if(R&&y!==-1)return f>y?"from-end":"from-start";if(P&&f!==-1)return f>y?"to-start":"to-end"}return null})();return b.current=m,m},[i.previousValue,i.value,i.dir,N,s]);return e.jsx(Le,{asChild:!0,children:e.jsx(It,{id:h,"aria-labelledby":g,"data-motion":T,"data-orientation":i.orientation,...p,ref:w,disableOutsidePointerEvents:!1,onDismiss:()=>{var j;const x=new Event($,{bubbles:!0,cancelable:!0});(j=v.current)==null||j.dispatchEvent(x)},onFocusOutside:k(t.onFocusOutside,x=>{var f;l();const j=x.target;(f=i.rootNavigationMenu)!=null&&f.contains(j)&&x.preventDefault()}),onPointerDownOutside:k(t.onPointerDownOutside,x=>{var R;const j=x.target,f=N().some(P=>{var m;return(m=P.ref.current)==null?void 0:m.contains(j)}),y=i.isRootMenu&&((R=i.viewport)==null?void 0:R.contains(j));(f||y||!i.isRootMenu)&&x.preventDefault()}),onKeyDown:k(t.onKeyDown,x=>{var y;const j=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!j){const R=X(x.currentTarget),P=document.activeElement,m=R.findIndex(A=>A===P),E=x.shiftKey?R.slice(0,m).reverse():R.slice(m+1,R.length);ae(E)?x.preventDefault():(y=a.current)==null||y.focus()}}),onEscapeKeyDown:k(t.onEscapeKeyDown,x=>{c.current=!0})})})}),oe="NavigationMenuViewport",Ae=u.forwardRef((t,n)=>{const{forceMount:r,...s}=t,a=!!I(oe,t.__scopeNavigationMenu).value;return e.jsx(H,{present:r||a,children:e.jsx(vn,{...s,ref:n})})});Ae.displayName=oe;var vn=u.forwardRef((t,n)=>{const{__scopeNavigationMenu:r,children:s,...o}=t,a=I(oe,r),c=z(n,a.onViewportChange),d=sn(K,t.__scopeNavigationMenu),[l,p]=u.useState(null),[i,v]=u.useState(null),w=l?(l==null?void 0:l.width)+"px":void 0,g=l?(l==null?void 0:l.height)+"px":void 0,h=!!a.value,N=h?a.value:a.previousValue;return Z(i,()=>{i&&p({width:i.offsetWidth,height:i.offsetHeight})}),e.jsx(_.div,{"data-state":ie(h),"data-orientation":a.orientation,...o,ref:c,style:{pointerEvents:!h&&a.isRootMenu?"none":void 0,"--radix-navigation-menu-viewport-width":w,"--radix-navigation-menu-viewport-height":g,...o.style},onPointerEnter:k(t.onPointerEnter,a.onContentEnter),onPointerLeave:k(t.onPointerLeave,B(a.onContentLeave)),children:Array.from(d.items).map(([C,{ref:T,forceMount:x,...j}])=>{const f=N===C;return e.jsx(H,{present:x||f,children:e.jsx(De,{...j,ref:Je(T,y=>{f&&y&&v(y)})})},C)})})}),fn="FocusGroup",Le=u.forwardRef((t,n)=>{const{__scopeNavigationMenu:r,...s}=t,o=I(fn,r);return e.jsx(W.Provider,{scope:r,children:e.jsx(W.Slot,{scope:r,children:e.jsx(_.div,{dir:o.dir,...s,ref:n})})})}),ge=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],xn="FocusGroupItem",Oe=u.forwardRef((t,n)=>{const{__scopeNavigationMenu:r,...s}=t,o=Zt(r),a=I(xn,r);return e.jsx(W.ItemSlot,{scope:r,children:e.jsx(_.button,{...s,ref:n,onKeyDown:k(t.onKeyDown,c=>{if(["Home","End",...ge].includes(c.key)){let l=o().map(v=>v.ref.current);if([a.dir==="rtl"?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(c.key)&&l.reverse(),ge.includes(c.key)){const v=l.indexOf(c.currentTarget);l=l.slice(v+1)}setTimeout(()=>ae(l)),c.preventDefault()}})})})});function X(t){const n=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)n.push(r.currentNode);return n}function ae(t){const n=document.activeElement;return t.some(r=>r===n?!0:(r.focus(),document.activeElement!==n))}function pn(t){return t.forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")}),()=>{t.forEach(n=>{const r=n.dataset.tabindex;n.setAttribute("tabindex",r)})}}function Z(t,n){const r=L(n);J(()=>{let s=0;if(t){const o=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(r)});return o.observe(t),()=>{window.cancelAnimationFrame(s),o.unobserve(t)}}},[t,r])}function ie(t){return t?"open":"closed"}function Fe(t,n){return`${t}-trigger-${n}`}function Ke(t,n){return`${t}-content-${n}`}function B(t){return n=>n.pointerType==="mouse"?t(n):void 0}var gn=Re,hn=Ie,jn=_e,Nn=Se,bn=Ae;function wn({className:t,children:n,viewport:r=!0,...s}){return e.jsxs(gn,{"data-slot":"navigation-menu","data-viewport":r,className:D("group/navigation-menu relative flex max-w-max flex-1 items-center justify-center",t),...s,children:[n,r&&e.jsx(Mn,{})]})}function yn({className:t,...n}){return e.jsx(hn,{"data-slot":"navigation-menu-list",className:D("group flex flex-1 list-none items-center justify-center gap-1",t),...n})}function Cn({className:t,...n}){return e.jsx(jn,{"data-slot":"navigation-menu-item",className:D("relative",t),...n})}function Mn({className:t,...n}){return e.jsx("div",{className:D("absolute top-full left-0 isolate z-50 flex justify-center"),children:e.jsx(bn,{"data-slot":"navigation-menu-viewport",className:D("origin-top-center bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border shadow md:w-[var(--radix-navigation-menu-viewport-width)]",t),...n})})}function Rn({className:t,...n}){return e.jsx(Nn,{"data-slot":"navigation-menu-link",className:D("data-[active=true]:focus:bg-accent data-[active=true]:hover:bg-accent data-[active=true]:bg-accent/50 data-[active=true]:text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus-visible:ring-ring/50 [&_svg:not([class*='text-'])]:text-muted-foreground flex flex-col gap-1 rounded-sm p-2 text-sm transition-all outline-none focus-visible:ring-[3px] focus-visible:outline-1 [&_svg:not([class*='size-'])]:size-4",t),...n})}function kn(){const t=ee(),{isAuthenticated:n}=te(),[r,s]=u.useState(!1),o=`${"https://ngsdev.rdcloud.bms.com".replace(/\/$/,"")}/docs`,a=[{to:"/runs",label:"Illumina Runs",icon:e.jsx(Xe,{className:"inline mr-1"})},{to:"/projects",label:"Projects",icon:e.jsx(Ze,{className:"inline mr-1"}),search:{sort_by:void 0,sort_order:void 0}},{to:"/admin",label:"Admin",icon:e.jsx(Ot,{className:"inline mr-1"})},{to:o,label:"API Docs",icon:e.jsx(Kt,{className:"inline mr-1"}),isExternal:!0}];return e.jsxs("header",{className:"sticky top-0 left-0 w-full flex items-center shadow-md bg-semi-transparent backdrop-blur-sm z-10",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"pl-2 cursor-pointer",onClick:()=>t({to:"/"}),children:e.jsx(Lt,{iconSize:"max-w-[35px]",textSize:"text-xl",gap:"gap-2",className:"p-2"})}),e.jsx("div",{className:"hidden xl:block ml-4",children:e.jsx(wn,{children:e.jsx(yn,{className:"gap-4",children:a.map(({to:c,label:d,icon:l,search:p,isExternal:i})=>e.jsx(Cn,{children:e.jsx(Rn,{asChild:!0,children:i?e.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",children:e.jsxs("div",{className:"flex items-center gap-1",children:[l,d]})}):e.jsx(F,{to:c,search:p,children:e.jsxs("div",{className:"flex items-center gap-1",children:[l,d]})})})},c))})})})]}),e.jsxs("div",{className:"flex items-center gap-3 ml-auto pr-2",children:[e.jsx("div",{className:"hidden xl:block w-64 xl:w-80",children:e.jsx(fe,{})}),e.jsx("div",{className:"hidden xl:block",children:e.jsx(xe,{trigger:e.jsx(S,{children:"Create Project"})})}),n&&e.jsx("div",{className:"hidden xl:block",children:e.jsx(Qt,{})}),e.jsx("div",{children:n?e.jsx(Yt,{}):e.jsx(F,{to:"/login",children:e.jsx(S,{variant:"outline",children:"Sign In"})})}),e.jsxs(be,{open:r,onOpenChange:s,children:[e.jsx(we,{asChild:!0,children:e.jsx(S,{variant:"outline",className:"xl:hidden","aria-label":"Toggle navigation",children:r?e.jsx(Ye,{className:"h-6 w-6 text-foreground"}):e.jsx(qt,{className:"h-6 w-6 text-foreground"})})}),e.jsxs(ye,{align:"end",sideOffset:4,className:"w-screen flex flex-col gap-2",children:[a.map(({to:c,label:d,icon:l,search:p,isExternal:i})=>e.jsx(U,{asChild:!0,className:"w-full justify-center",children:i?e.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",onClick:()=>s(!1),children:e.jsxs("div",{className:"flex items-center gap-1",children:[l,d]})}):e.jsx(F,{to:c,search:p,onClick:()=>s(!1),children:e.jsxs("div",{className:"flex items-center gap-1",children:[l,d]})})},c)),e.jsx("div",{className:"px-2 py-2",children:e.jsx(fe,{onResultClick:()=>s(!1)})}),e.jsx(U,{asChild:!0,children:e.jsx(xe,{trigger:e.jsx(S,{className:"w-full",children:"Create ProjectID"})})})]})]})]})]})}function En({...t}){return e.jsx("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...t})}function In({className:t,...n}){return e.jsx("ol",{"data-slot":"breadcrumb-list",className:D("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",t),...n})}function Tn({className:t,...n}){return e.jsx("li",{"data-slot":"breadcrumb-item",className:D("inline-flex items-center gap-1.5",t),...n})}function Pn({className:t,...n}){return e.jsx("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:D("text-foreground font-normal",t),...n})}function _n({children:t,className:n,...r}){return e.jsx("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:D("[&>svg]:size-3.5",n),...r,children:t??e.jsx(Nt,{})})}const Sn=()=>{const n=et().filter(r=>r.loaderData&&"crumb"in r.loaderData).map(({pathname:r,loaderData:s})=>({href:r,crumb:s.crumb,includeCrumbLink:s.includeCrumbLink}));return e.jsx(En,{children:e.jsx(In,{children:n.map((r,s)=>{const o=s===n.length-1;return s<1&&o?null:e.jsxs(tt.Fragment,{children:[e.jsx(Tn,{className:"hidden md:block",children:o||!r.includeCrumbLink?e.jsx(Pn,{className:r.includeCrumbLink?"":"text-muted-foreground",children:r.crumb}):e.jsx(F,{to:r.href,preload:!1,children:s<1?e.jsx(zt,{size:14}):r.crumb})}),!o&&e.jsx(_n,{className:"hidden md:block"})]},s)})})})};var Dn=(t,n,r,s,o,a,c,d)=>{let l=document.documentElement,p=["light","dark"];function i(g){(Array.isArray(t)?t:[t]).forEach(h=>{let N=h==="class",b=N&&a?o.map(C=>a[C]||C):o;N?(l.classList.remove(...b),l.classList.add(a&&a[g]?a[g]:g)):l.setAttribute(h,g)}),v(g)}function v(g){d&&p.includes(g)&&(l.style.colorScheme=g)}function w(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)i(s);else try{let g=localStorage.getItem(n)||r,h=c&&g==="system"?w():g;i(h)}catch{}},An=u.createContext(void 0),Ln={setTheme:t=>{},themes:[]},On=()=>{var t;return(t=u.useContext(An))!=null?t:Ln};u.memo(({forcedTheme:t,storageKey:n,attribute:r,enableSystem:s,enableColorScheme:o,defaultTheme:a,value:c,themes:d,nonce:l,scriptProps:p})=>{let i=JSON.stringify([r,n,a,t,d,c,s,o]).slice(1,-1);return u.createElement("script",{...p,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${Dn.toString()})(${i})`}})});const Fn=({...t})=>{const{theme:n="system"}=On();return e.jsx(ct,{theme:n,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})},us=()=>e.jsxs(e.Fragment,{children:[e.jsx(kn,{}),e.jsx("div",{className:"ml-8 mt-4",children:e.jsx(Sn,{})}),e.jsx(nt,{}),e.jsx(Fn,{})]});export{us as component};
//# sourceMappingURL=_auth-D5j6B1V0.js.map
