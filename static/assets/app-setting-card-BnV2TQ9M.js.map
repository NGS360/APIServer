{"version":3,"file":"app-setting-card-BnV2TQ9M.js","sources":["../../node_modules/lucide-react/dist/esm/icons/save.js","../../src/components/app-setting-card.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.476.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z\",\n      key: \"1c8476\"\n    }\n  ],\n  [\"path\", { d: \"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7\", key: \"1ydtos\" }],\n  [\"path\", { d: \"M7 3v4a1 1 0 0 0 1 1h7\", key: \"t51u73\" }]\n];\nconst Save = createLucideIcon(\"Save\", __iconNode);\n\nexport { __iconNode, Save as default };\n//# sourceMappingURL=save.js.map\n","import { useForm } from 'react-hook-form'\nimport { Save, X } from 'lucide-react'\nimport type { Setting } from '@/client'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipTrigger,\n} from '@/components/ui/tooltip'\n\ninterface SettingCardProps {\n  setting: Setting\n  isPending: boolean\n  onSave: (key: string, value: string) => void\n  inputType?: 'text' | 'password'\n}\n\nexport const SettingCard = ({ setting, isPending, onSave, inputType = 'text' }: SettingCardProps) => {\n  const { register, handleSubmit, watch, reset } = useForm({\n    defaultValues: {\n      value: setting.value,\n    },\n  })\n\n  const currentValue = watch('value')\n  const hasChanged = currentValue !== setting.value\n\n  const onSubmit = handleSubmit((data) => {\n    onSave(setting.key, data.value)\n  })\n\n  return (\n    <div className='border rounded-lg p-6'>\n      <div className='flex flex-col gap-3'>\n        <div>\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <p className='text-lg font-medium w-fit'>{setting.name}</p>\n            </TooltipTrigger>\n            <TooltipContent side=\"right\">\n              <p className='font-mono text-sm'>{setting.key}</p>\n            </TooltipContent>\n          </Tooltip>\n        </div>\n        \n        {setting.description && (\n          <p className='text-sm text-muted-foreground'>{setting.description}</p>\n        )}\n        \n        <form onSubmit={onSubmit}>\n          <div className='flex flex-col gap-2'>\n            <div className='flex gap-2 items-start'>\n              <Input\n                {...register('value')}\n                type={inputType}\n                className='flex-1'\n                disabled={isPending}\n              />\n              {hasChanged && (\n                <>\n                  <Button\n                    type='submit'\n                    variant='ghost'\n                    size='icon'\n                    disabled={isPending}\n                  >\n                    <Save className='h-4 w-4 text-blue-600' />\n                    <span className=\"sr-only\">Save</span>\n                  </Button>\n                  <Button\n                    type='button'\n                    variant='ghost'\n                    size='icon'\n                    onClick={() => reset()}\n                    disabled={isPending}\n                  >\n                    <X className='h-4 w-4 text-red-600' />\n                    <span className=\"sr-only\">Cancel</span>\n                  </Button>\n                </>\n              )}\n            </div>\n            \n            {setting.updated_at && (\n              <p className='text-xs text-muted-foreground text-right'>\n                Updated: {new Date(setting.updated_at.replace(' ', 'T') + 'Z').toLocaleString(undefined, { timeZoneName: 'short' })}\n              </p>\n            )}\n          </div>\n        </form>\n      </div>\n    </div>\n  )\n}\n"],"names":["__iconNode","Save","createLucideIcon","SettingCard","setting","isPending","onSave","inputType","register","handleSubmit","watch","reset","useForm","hasChanged","onSubmit","data","jsxs","jsx","Tooltip","TooltipTrigger","TooltipContent","Input","Fragment","Button","X"],"mappings":"2MAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMA,EAAa,CACjB,CACE,OACA,CACE,EAAG,qGACH,IAAK,QACX,CACG,EACD,CAAC,OAAQ,CAAE,EAAG,4CAA6C,IAAK,QAAQ,CAAE,EAC1E,CAAC,OAAQ,CAAE,EAAG,yBAA0B,IAAK,QAAU,CAAA,CACzD,EACMC,EAAOC,EAAiB,OAAQF,CAAU,ECFnCG,EAAc,CAAC,CAAE,QAAAC,EAAS,UAAAC,EAAW,OAAAC,EAAQ,UAAAC,EAAY,UAA+B,CACnG,KAAM,CAAE,SAAAC,EAAU,aAAAC,EAAc,MAAAC,EAAO,MAAAC,CAAA,EAAUC,EAAQ,CACvD,cAAe,CACb,MAAOR,EAAQ,KAAA,CACjB,CACD,EAGKS,EADeH,EAAM,OAAO,IACEN,EAAQ,MAEtCU,EAAWL,EAAcM,GAAS,CAC/BT,EAAAF,EAAQ,IAAKW,EAAK,KAAK,CAAA,CAC/B,EAED,aACG,MAAI,CAAA,UAAU,wBACb,SAACC,EAAA,KAAA,MAAA,CAAI,UAAU,sBACb,SAAA,CAACC,EAAA,IAAA,MAAA,CACC,gBAACC,EACC,CAAA,SAAA,CAACD,EAAA,IAAAE,EAAA,CAAe,QAAO,GACrB,SAAAF,EAAAA,IAAC,KAAE,UAAU,4BAA6B,SAAQb,EAAA,IAAA,CAAK,CACzD,CAAA,EACAa,EAAAA,IAACG,EAAe,CAAA,KAAK,QACnB,SAAAH,EAAA,IAAC,KAAE,UAAU,oBAAqB,SAAQb,EAAA,GAAI,CAAA,CAChD,CAAA,CAAA,CAAA,CACF,CACF,CAAA,EAECA,EAAQ,aACPa,EAAA,IAAC,KAAE,UAAU,gCAAiC,WAAQ,YAAY,QAGnE,OAAK,CAAA,SAAAH,EACJ,SAACE,OAAA,MAAA,CAAI,UAAU,sBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAC,EAAA,IAACI,EAAA,CACE,GAAGb,EAAS,OAAO,EACpB,KAAMD,EACN,UAAU,SACV,SAAUF,CAAA,CACZ,EACCQ,GAEGG,EAAA,KAAAM,WAAA,CAAA,SAAA,CAAAN,EAAA,KAACO,EAAA,CACC,KAAK,SACL,QAAQ,QACR,KAAK,OACL,SAAUlB,EAEV,SAAA,CAACY,EAAAA,IAAAhB,EAAA,CAAK,UAAU,uBAAwB,CAAA,EACvCgB,EAAA,IAAA,OAAA,CAAK,UAAU,UAAU,SAAI,MAAA,CAAA,CAAA,CAAA,CAChC,EACAD,EAAA,KAACO,EAAA,CACC,KAAK,SACL,QAAQ,QACR,KAAK,OACL,QAAS,IAAMZ,EAAM,EACrB,SAAUN,EAEV,SAAA,CAACY,EAAAA,IAAAO,EAAA,CAAE,UAAU,sBAAuB,CAAA,EACnCP,EAAA,IAAA,OAAA,CAAK,UAAU,UAAU,SAAM,QAAA,CAAA,CAAA,CAAA,CAAA,CAClC,CACF,CAAA,CAAA,EAEJ,EAECb,EAAQ,YACNY,OAAA,IAAA,CAAE,UAAU,2CAA2C,SAAA,CAAA,YACxC,IAAA,KAAKZ,EAAQ,WAAW,QAAQ,IAAK,GAAG,EAAI,GAAG,EAAE,eAAe,OAAW,CAAE,aAAc,OAAS,CAAA,CAAA,CACpH,CAAA,CAAA,CAAA,CAEJ,CACF,CAAA,CAAA,CAAA,CACF,CACF,CAAA,CAEJ","x_google_ignoreList":[0]}