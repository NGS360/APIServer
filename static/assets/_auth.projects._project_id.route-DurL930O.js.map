{"version":3,"file":"_auth.projects._project_id.route-DurL930O.js","sources":["../../src/routes/_auth.projects.$project_id.route.tsx?tsr-split=component"],"sourcesContent":["import { AxiosError } from 'axios'\nimport { useSuspenseQuery } from '@tanstack/react-query'\nimport { Outlet, createFileRoute, redirect } from '@tanstack/react-router'\nimport { getProjectByProjectId } from '@/client'\nimport { getProjectByProjectIdOptions } from '@/client/@tanstack/react-query.gen'\n\nexport const Route = createFileRoute('/_auth/projects/$project_id')({\n  component: RouteComponent,\n  loader: async ({ params, context }) => {\n    const projectData = await getProjectByProjectId({\n      path: {\n        project_id: params.project_id\n      }\n    })\n    if (projectData.status !== 200 || projectData instanceof AxiosError) {\n      alert(\"An error occurred: \" + projectData.error?.detail || \"An unknown error occurred.\")\n      throw redirect({ to: '/projects' })\n    }\n    \n    // Prefetch the query data\n    await context.queryClient.prefetchQuery(\n      getProjectByProjectIdOptions({\n        path: { project_id: params.project_id }\n      })\n    )\n    \n    return ({\n      crumb: projectData.data.name || projectData.data.project_id,\n      includeCrumbLink: false,\n    })\n  }\n})\n\nfunction RouteComponent() {\n  const { project_id } = Route.useParams()\n  \n  // Use React Query hook instead of loader data for automatic refetching\n  const { data: project } = useSuspenseQuery(\n    getProjectByProjectIdOptions({\n      path: { project_id }\n    })\n  )\n\n  return (\n    <>\n      <div className='flex flex-col gap-4'>\n        {/* Header */}\n        <h1 className='text-3xl font-extralight'>{project.name}</h1>\n        {/* Outlet */}\n        <Outlet />\n      </div>\n    </>\n  )\n}"],"names":["SplitComponent","project_id","Route","useParams","data","project","useSuspenseQuery","getProjectByProjectIdOptions","path","jsx","Fragment","jsxs","name","Outlet"],"mappings":"qJAIiFA,MAAAA,EAAA,UA6BvD,CAClB,KAAA,CAAEC,WAAAA,CAAAA,EAAeC,EAAMC,UAAU,EAGjC,CAAEC,KAAMC,CAAAA,EAAYC,EACxBC,EAA6B,CAC3BC,KAAM,CAAEP,WAAAA,CAAAA,CAAW,CACpB,CACH,EAEA,OAEIQ,EAAA,IAAAC,WAAA,CAAA,SAAAC,EAAAA,KAAC,MAAI,CAAA,UAAU,sBAEb,SAAA,CAAAF,EAAA,IAAC,KAAG,CAAA,UAAU,2BAA4BJ,SAAAA,EAAQO,KAAK,QAEtDC,EAAM,CAAA,CAAA,CAAA,CAAA,CACT,CACF,CAAA,CAEJ"}