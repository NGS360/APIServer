import{u as w,r as m,o as v,a2 as C,j as e,x as y,L as D,s as E}from"./index-BIirldc1.js";import{u as P}from"./index.esm-DeL_VMPh.js";import{a as k,L as F}from"./label-BoUK3cZg.js";import{u as L}from"./useMutation-DLDY0_Jn.js";import{t as R}from"./index-CbXsuHis.js";import{B as d}from"./button-C2PM_K_5.js";import{I as A}from"./input-DMyO_KgQ.js";import{C as B,a as G,c as M}from"./card-B_B2k0jE.js";import{D as q,b as H,c as I,d as O,e as T,f as V}from"./dialog-Dv2OS8bo.js";import{N as Y}from"./ngs360-logo-CZCZml11.js";const _=v({email:E().email("Please enter a valid email address")});function z({className:n,...x}){const u=w(),[h,a]=m.useState(!1),[p,g]=m.useState(""),{register:j,handleSubmit:f,setError:S,formState:{errors:s,isSubmitting:r}}=P({defaultValues:{email:""},resolver:k(_)}),{mutate:b,isPending:o}=L({...C(),onError:t=>{var l,c;const i=((c=(l=t.response)==null?void 0:l.data.detail)==null?void 0:c.toString())||"An unknown error occurred.";S("root",{message:i})},onSuccess:(t,i)=>{R.success("Password reset email sent. Please check your inbox."),g(i.body.email),a(!0)}}),N=t=>{b({body:{...t}})};return e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/5 via-background to-primary-2/5 p-4",children:[e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs(B,{children:[e.jsx(G,{}),e.jsx(M,{children:e.jsxs("form",{onSubmit:f(N),className:y("flex flex-col gap-6",n),...x,children:[e.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[e.jsx(Y,{className:"mb-2"}),e.jsx("h1",{className:"text-2xl font-bold",children:"Password Reset"}),e.jsx("p",{className:"text-sm text-muted-foreground max-w-xs",children:"Send an email to reset your NGS360 account password."})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(F,{htmlFor:"email",children:"Email"}),e.jsx(A,{...j("email"),id:"email",type:"email",placeholder:"user@example.com",required:!0}),s.email&&e.jsx("div",{className:"text-red-500 text-xs text-left",children:s.email.message})]}),e.jsxs(d,{disabled:r||o,type:"submit",className:"flex items-center gap-2",children:[r||o?e.jsx(D,{className:"animate-spin h-4 w-4 text-white"}):null,r||o?"Sending...":"Send Email"]}),s.root&&e.jsx("div",{className:"text-red-500 text-sm text-center",children:s.root.message})]})})]}),e.jsx("div",{className:"text-center mt-6 text-sm text-muted-foreground",children:e.jsxs("p",{children:["Â© ",new Date().getFullYear()," BMS NGS360. All rights reserved."]})})]}),e.jsx(q,{open:h,onOpenChange:a,children:e.jsxs(H,{children:[e.jsxs(I,{children:[e.jsx(O,{children:"Success!"}),e.jsxs(T,{children:["A password reset link has been sent to ",e.jsx("strong",{children:p}),".",e.jsx("br",{}),"Please check your inbox and follow the instructions to reset your password."]})]}),e.jsx(V,{children:e.jsx(d,{onClick:()=>{a(!1),u({to:"/login"})},children:"Continue"})})]})})]})}const te=function(){return e.jsx(z,{})};export{te as component};
//# sourceMappingURL=_user.forgot-password.index-BAO1-TiX.js.map
