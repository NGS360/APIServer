{"version":3,"file":"_user.verify-email-DyiOxO6B.js","sources":["../../src/routes/_user.verify-email.tsx?tsr-split=component"],"sourcesContent":["import { Link, createFileRoute } from '@tanstack/react-router'\nimport { useMutation } from '@tanstack/react-query'\nimport { z } from 'zod'\nimport { CheckCircle2, LoaderCircle, Mail, XCircle } from 'lucide-react'\nimport { verifyEmailMutation } from '@/client/@tanstack/react-query.gen'\nimport { Button } from '@/components/ui/button'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\n\n// Define the search schema for email verification\nconst verifyEmailSearchSchema = z.object({\n  token: z.string().optional(),\n})\n\nexport const Route = createFileRoute('/_user/verify-email')({\n  component: RouteComponent,\n  validateSearch: verifyEmailSearchSchema,\n})\n\nfunction RouteComponent() {\n  const search = Route.useSearch()\n  const { token } = search\n\n  const { mutate, isPending, isSuccess, isError, error } = useMutation({\n    ...verifyEmailMutation(),\n  })\n\n  const handleVerify = () => {\n    if (token) {\n      mutate({\n        body: {\n          token,\n        },\n      })\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/5 via-background to-primary-2/5 p-4\">\n      <Card className=\"w-full max-w-md\">\n        <CardHeader>\n          <CardTitle className=\"text-center text-2xl\">Email Verification</CardTitle>\n        </CardHeader>\n        <CardContent className=\"flex flex-col items-center gap-6\">\n          {!token ? (\n            <>\n              <XCircle className=\"h-16 w-16 text-destructive\" />\n              <div className=\"text-center\">\n                <h3 className=\"text-lg font-semibold mb-2\">No Token Provided</h3>\n                <p className=\"text-muted-foreground\">\n                  No verification token was provided. Please check your email for the verification link.\n                </p>\n              </div>\n            </>\n          ) : isPending ? (\n            <>\n              <LoaderCircle className=\"h-16 w-16 text-primary animate-spin\" />\n              <p className=\"text-muted-foreground text-center\">\n                Verifying your email address...\n              </p>\n            </>\n          ) : isSuccess ? (\n            <>\n              <CheckCircle2 className=\"h-16 w-16 text-green-500\" />\n              <div className=\"text-center space-y-4\">\n                <div>\n                  <h3 className=\"text-lg font-semibold mb-2\">Email Verified Successfully!</h3>\n                  <p className=\"text-muted-foreground\">\n                    Your email has been verified. You can now log in to your account.\n                  </p>\n                </div>\n                <Button asChild className=\"w-full\">\n                  <Link to=\"/\">Go to Homepage</Link>\n                </Button>\n              </div>\n            </>\n          ) : isError ? (\n            <>\n              <XCircle className=\"h-16 w-16 text-destructive\" />\n              <div className=\"text-center space-y-4\">\n                <div>\n                  <h3 className=\"text-lg font-semibold mb-2\">Verification Failed</h3>\n                  <p className=\"text-muted-foreground\">\n                    {error.message || 'The verification token is invalid or has expired. Please request a new verification email.'}\n                  </p>\n                </div>\n                <Button asChild className=\"w-full\" variant=\"outline\">\n                  <Link to=\"/\">Go to Homepage</Link>\n                </Button>\n              </div>\n            </>\n          ) : (\n            <>\n              <Mail className=\"h-16 w-16 text-primary\" />\n              <div className=\"text-center space-y-4\">\n                <div>\n                  <h3 className=\"text-lg font-semibold mb-2\">Verify Your Email</h3>\n                  <p className=\"text-muted-foreground\">\n                    Click the button below to verify your email address.\n                  </p>\n                </div>\n                <Button onClick={handleVerify} className=\"w-full\" disabled={isPending}>\n                  Verify Email\n                </Button>\n              </div>\n            </>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n"],"names":["SplitComponent","search","Route","useSearch","token","mutate","isPending","isSuccess","isError","error","useMutation","verifyEmailMutation","handleVerify","body","jsxs","Card","jsx","CardHeader","CardTitle","CardContent","Fragment","LoaderCircle","CheckCircle2","Button","Link","XCircle","message","Mail"],"mappings":"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"}